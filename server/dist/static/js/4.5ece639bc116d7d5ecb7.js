webpackJsonp([4],{"8Z7x":function(t,r){},xJsL:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={data:function(){return{req:{account:"",password:""},labelCol:{span:6},wrapperCol:{span:14},showErrTip:!1,ErrTip:""}},methods:{toSignup:function(){this.$router.push({path:"/Signup"})},LogIn:function(){var t=this;if(""==this.req.account||""==this.req.password)return this.$message.error("请输入账号及密码"),!1;this.$http.post("/api/login",this.req).then(function(r){if(r.data.code)1==r.data.code?(t.showErrTip=!0,t.ErrTip="无此用户"):2==r.data.code?(t.showErrTip=!0,t.ErrTip="密码错误"):(t.showErrTip=!0,t.ErrTip="未知错误");else{var e={isLog:!0,account:t.req.account,nickname:r.data.nickname,coins:r.data.goalCoin};t.$store.commit("setLogMsg",e),t.$router.push({path:"/"})}}).catch(function(r){console.log(r),t.showErrTip=!0,t.ErrTip="网络错误"})}}},o={render:function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("v-card",{staticClass:"login-page"},[a("div",[a("img",{attrs:{src:e("7Otq")}}),t._v(" "),a("p",{staticClass:"login-title"},[t._v("用户登录")]),t._v(" "),t.showErrTip?a("v-alert",{staticStyle:{margin:"10px 80px",color:"red"},attrs:{type:"error",message:t.ErrTip}}):t._e(),t._v(" "),a("v-form",{staticClass:"login-main",attrs:{direction:"horizontal"}},[a("v-form-item",{attrs:{label:"账号","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("v-input",{staticClass:"login-acntInput",attrs:{type:"text",placeholder:"请输入账号",size:"large"},model:{value:t.req.account,callback:function(r){t.$set(t.req,"account",r)},expression:"req.account"}}),t._v(" "),a("v-button",{on:{click:function(r){t.toSignup()}}},[t._v("注册")])],1),t._v(" "),a("v-form-item",{attrs:{label:"密码","label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("v-input",{attrs:{type:"password",placeholder:"请输入密码",size:"large"},nativeOn:{keyup:function(r){if(!("button"in r)&&t._k(r.keyCode,"enter",13,r.key,"Enter"))return null;t.LogIn()}},model:{value:t.req.password,callback:function(r){t.$set(t.req,"password",r)},expression:"req.password"}})],1),t._v(" "),a("v-form-item",[a("v-button",{attrs:{type:"primary"},on:{click:function(r){r.preventDefault(),t.LogIn()}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var n=e("VU/8")(a,o,!1,function(t){e("8Z7x")},"data-v-14dea6a2",null);r.default=n.exports}});
//# sourceMappingURL=4.5ece639bc116d7d5ecb7.js.map